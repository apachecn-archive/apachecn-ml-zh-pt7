<html><head/><body>
<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Detecting Advanced Persistent Threats</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3IE3G0-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">检测高级持续威胁</h1>
                
            
            
                
<p class="calibre2">现代组织每天都面临网络威胁。黑帽黑客没有表现出任何迹象表明他们将停止。新的黑客技术定期出现。检测<strong class="calibre4">高级持续威胁</strong> ( <strong class="calibre4"> APTs </strong>)是一项艰巨的任务，因为这些攻击的目标是长时间不被发现，窃取数据，而不是对系统造成破坏。</p>
<p class="calibre2">根据多份信息安全报告，针对国防、制造业和金融业的APT攻击数量正在显著增加。因此，在许多情况下，传统的保护技术是无用的。部署合适的平台和解决方案可以帮助组织和公司抵御网络攻击，尤其是apt。</p>
<p class="calibre2">本章将为您提供一步一步的指导，教您如何构建一个威胁搜索平台，使用一系列众所周知的开源项目来保护您客户的数据。您将学习如何创建一个机器学习模块来增强您的平台和自动化异常检测，以便您可以专注于团队中的其他问题。</p>
<p class="calibre2">在本章中，我们将介绍:</p>
<ul class="calibre9">
<li class="calibre25">高级威胁形势</li>
<li class="calibre25">寻找威胁的方法</li>
<li class="calibre25">狩猎成熟度模型</li>
<li class="calibre25">网络杀伤链</li>
<li class="calibre25">入侵检测的钻石模型</li>
<li class="calibre25">使用机器学习搜索威胁，使用<strong class="calibre1"> Elasticsearch </strong>、<strong class="calibre1"> Logstash </strong>和<strong class="calibre1"> Kibana </strong> ( <strong class="calibre1"> ELK </strong>)堆栈</li>
</ul>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Technical requirements</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3JCK20-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">技术要求</h1>
                
            
            
                
<p class="calibre2">在这一章中，我们将使用我们在前面章节中使用的相同的Python库。建议您具备以下条件:</p>
<ul class="calibre9">
<li class="calibre10">4 GB内存</li>
<li class="calibre10">2 GB CPU</li>
</ul>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Threats and risk analysis</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3KB4K0-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">威胁和风险分析</h1>
                
            
            
                
<p class="calibre2">威胁是对组织资产的潜在危险。根据2017年<strong class="calibre4">欧盟网络与信息安全局</strong> ( <strong class="calibre4"> ENISA </strong>)威胁景观报告，现代组织面临数以百万计的网络威胁，包括:恶意软件、基于网络的攻击、网络钓鱼、勒索软件、僵尸网络等等。对于安全专业人员，尤其是风险经理来说，威胁在风险分析中扮演着重要角色。风险是威胁和漏洞的组合，在数学上可以表示为<em class="calibre16">风险=威胁x漏洞</em>。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Threat-hunting methodology</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3L9L60-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">寻找威胁的方法</h1>
                
            
            
                
<p class="calibre2">威胁搜寻是一种搜索、识别和理解apt的方法。像任何方法学信息安全任务一样，威胁搜寻与工具和实用程序无关。它是流程、人员和技术的结合。</p>
<p class="calibre2">威胁搜寻包括以下步骤:</p>
<ul class="calibre9">
<li class="calibre10">创建假设</li>
<li class="calibre10">使用工具和技术进行调查</li>
<li class="calibre10">发现新模式</li>
<li class="calibre10">通知和丰富分析</li>
</ul>
<p class="calibre2">以下步骤构成了<strong class="calibre4">威胁搜寻循环</strong>:</p>
<div><img src="img/00147.jpeg" class="calibre159"/></div>
<p class="calibre2">您可以通过从以下选项中选择一个级别来评估您的威胁搜寻程序的成熟度:</p>
<ul class="calibre9">
<li class="calibre10"><strong class="calibre1">第1级</strong>:初始(很少或没有数据收集，依靠自动警报)</li>
<li class="calibre10"><strong class="calibre1">级别2 </strong>:最低(高水平数据收集)</li>
<li class="calibre10"><strong class="calibre1">第3级</strong>:程序性(高水平的数据收集，遵循数据分析程序)</li>
<li class="calibre10"><strong class="calibre1">第4级</strong>:创新(高水平的数据收集，遵循新的数据分析程序)</li>
<li class="calibre10"><strong class="calibre1">级别5 </strong>:领先(高水平的数据收集，自动化成功的数据分析程序)</li>
</ul>
<p class="calibre2">以下两个部分包括威胁搜寻中最重要的术语。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>The cyber kill chain</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3M85O0-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">网络杀伤链</h1>
                
            
            
                
<p class="calibre2">像信息安全的许多方面一样，网络杀伤链是一个受军方启发的模型，用来描述网络攻击中使用的步骤。</p>
<p class="calibre2">网络杀伤链的七个步骤如下:</p>
<ul class="calibre9">
<li class="calibre25"><strong class="calibre1">侦察</strong>:收集信息，如电子邮件地址</li>
<li class="calibre25"><strong class="calibre1">武器化</strong>:将漏洞利用和后门耦合成可交付的有效载荷——换句话说，使用漏洞利用和后门构建可交付的有效载荷</li>
</ul>
<ul class="calibre9">
<li class="calibre25"><strong class="calibre1">交付</strong>:通过电子邮件或USB等不同方式向受害者交付武器包</li>
<li class="calibre25"><strong class="calibre1">利用</strong>:利用漏洞在目标机器上执行代码</li>
<li class="calibre25"><strong class="calibre1">安装</strong>:安装恶意软件</li>
<li class="calibre25"><strong class="calibre1">指挥与控制(C2) </strong>:遥控操纵受害者的指挥通道</li>
<li class="calibre25"><strong class="calibre1">行动和目标</strong>:完成最初的目标</li>
</ul>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>The diamond model of intrusion analysis</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3N6MA0-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">入侵分析的钻石模型</h1>
                
            
            
                
<p class="calibre2">入侵分析的钻石模型是一种用于验证网络威胁的方法。每个事件都可以用一个菱形来表示。许多信息安全分析师使用这种认知模型来一致地描述有组织的威胁，并随着威胁的发展对其进行跟踪。</p>
<p class="calibre2">菱形的四个节点如下:</p>
<ul class="calibre9">
<li class="calibre25">对手(坏人角色)</li>
<li class="calibre25">基础设施(如IP地址、域名和电子邮件地址)</li>
<li class="calibre25">功能(如恶意软件、漏洞和被盗证书)</li>
<li class="calibre25">受害者(如人员和网络资产)</li>
</ul>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Threat hunting with the ELK Stack</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3O56S0-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">与麋鹿群一起寻找威胁</h1>
                
            
            
                
<p class="calibre2">现在，您已经清楚地了解了威胁追踪中最重要的术语。所以，让我们建立一个寻找威胁的平台。在接下来的章节中，我们将学习如何使用开源项目来构建一个威胁搜索系统。在我们的实践指南中，我们将使用最有前途的解决方案之一ELK Stack。它包括三个开源项目，是当今下载量最大的日志管理平台之一。</p>
<p class="calibre2">ELK堆栈广泛应用于许多领域，包括:</p>
<ul class="calibre9">
<li class="calibre25">商业智能</li>
<li class="calibre25">网络分析</li>
<li class="calibre25">信息安全</li>
<li class="calibre25">服从</li>
</ul>
<p class="calibre2">ELK堆栈由以下组件组成:</p>
<ul class="calibre9">
<li class="calibre25"><strong class="calibre1">弹性搜索</strong>:搜索和分析数据</li>
<li class="calibre25"><strong class="calibre1"> Logstash </strong>:采集和转换数据</li>
<li class="calibre25">基巴纳:可视化数据</li>
</ul>
<p class="calibre2">下图说明了ELK堆栈中的主要组件:</p>
<div><img src="img/00148.jpeg" class="calibre160"/></div>
<p class="calibre2">因此，根据主架构，为了构建一个威胁搜索平台，我们需要:收集日志，分析和搜索合适的数据，并管理我们的发现的可视化。让我们看看如何准备ELK堆栈环境。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Elasticsearch</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3P3NE0-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">弹性搜索</h1>
                
            
            
                
<p class="calibre2">Elasticsearch是一个令人惊叹的开源项目。它是一个RESTful的、分布式的、基于JSON的搜索引擎。换句话说，你可以把它看作一个NoSQL搜索服务器。你可以在https://www.elastic.co/看到它的官方网站:</p>
<div><img src="img/00149.jpeg" class="calibre54"/></div>
<p class="calibre2">若要下载，请前往https://www.elastic.co/downloads/elasticsearch:</p>
<div><img src="img/00150.jpeg" class="calibre161"/></div>
<p class="calibre2">选择合适的包装。在我的例子中，我将把它安装在Ubuntu 14.04机器上。因此，我将选择<kbd class="calibre12">.deb</kbd>版本。建议您具备以下条件:</p>
<ul class="calibre9">
<li class="calibre10">4GB内存</li>
<li class="calibre10">2GB CPU</li>
</ul>
<p class="calibre2">Elasticsearch是用Java写的。因此，我们需要确保它安装在我们的环境中(如果没有，我们应该下载它)。将Java添加到<kbd class="calibre12">apt</kbd>中，如下所示:</p>
<pre class="calibre17"><strong class="calibre1">sudo add-apt-repository -y ppa:webupd8team/java<br class="title-page-name"/></strong></pre>
<p class="calibre2">现在Java源代码被添加到<kbd class="calibre12">list.sources</kbd>文件中:</p>
<div><img src="img/00151.gif" class="calibre162"/></div>
<p class="calibre2">更新<kbd class="calibre12">list.sources</kbd>文件:</p>
<div><img src="img/00152.gif" class="calibre163"/></div>
<p class="calibre2">现在，安装Java <kbd class="calibre12">installer</kbd>:</p>
<pre class="calibre17"><strong class="calibre1">sudo apt-get -y install oracle-java8-installer</strong></pre>
<div><img src="img/00153.gif" class="calibre164"/></div>
<p class="calibre2">然后，配置它:</p>
<div><img src="img/00154.jpeg" class="calibre165"/></div>
<p class="calibre2">瞧啊。我们已经成功安装了它。通过键入<kbd class="calibre12">java -version</kbd>命令进行检查:</p>
<div><img src="img/00155.gif" class="calibre166"/></div>
<p class="calibre2">让我们安装Elasticsearch。按如下方式导入<kbd class="calibre12">elasticsearch</kbd>公钥:</p>
<pre class="calibre17"><strong class="calibre1">wget -qO - https://packages.elastic.co/GPG-KEY-elasticsearch | sudo</strong><br class="title-page-name"/><strong class="calibre1">apt-key add -</strong></pre>
<div><img src="img/00156.gif" class="calibre167"/></div>
<p class="calibre2">将Elasticsearch添加到来源列表:</p>
<pre class="calibre17"><strong class="calibre1">echo "deb https://artifacts.elastic.co/packages/6.x/apt stable main" |</strong><br class="title-page-name"/><strong class="calibre1">sudo tee -a /etc/apt/sources.list.d/elastic-6.x.list</strong></pre>
<div><img src="img/00157.gif" class="calibre168"/></div>
<p class="calibre2">使用<kbd class="calibre12">apt-get update</kbd>和<kbd class="calibre12">install elasticsearch</kbd>更新信号源列表:</p>
<pre class="calibre17"><strong class="calibre1">apt-get install elasticsearch</strong></pre>
<div><img src="img/00158.gif" class="calibre169"/></div>
<p class="calibre2">要配置Elasticsearch，使用文本编辑器编辑<kbd class="calibre12">/etc/elasticsearch/elasticsearch.yml</kbd>:</p>
<pre class="calibre17"><strong class="calibre1">vi /etc/elasticsearch/elasticsearch.yml</strong></pre>
<div><img src="img/00159.jpeg" class="calibre170"/></div>
<p class="calibre2">配置文件后，重新启动Elasticsearch服务:</p>
<pre class="calibre17"><strong class="calibre1">sudo service elasticsearch restart</strong></pre>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Kibana</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3Q2800-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">基巴纳</h1>
                
            
            
                
<p class="calibre2">安装和配置Elasticsearch之后，是时候安装Kibana了，以便在一个设计良好的仪表板中可视化数据。Kibana是一个包含不同类型图表的web界面。你可以把它看作是我们堆栈的可视化层。</p>
<p class="calibre2">像往常一样，使用<kbd class="calibre12">apt-get install</kbd>命令安装Kibana:</p>
<pre class="calibre17"><strong class="calibre1">apt-get install kibana</strong></pre>
<p class="calibre2">安装它不会花太长时间:</p>
<div><img src="img/00160.gif" class="calibre171"/></div>
<p class="calibre2">安装后，我们可以通过使用文本编辑器修改<kbd class="calibre12">/opt/kibana/config/kibana.yml</kbd>配置文件来配置它:</p>
<pre class="calibre17"><strong class="calibre1">sudo vi /opt/kibana/config/kibana.yml</strong></pre>
<p class="calibre2">使用以下命令启用Kibana服务:</p>
<pre class="calibre17"><strong class="calibre1">sudo update-rc.d kibana defaults 96 9</strong></pre>
<div><img src="img/00161.gif" class="calibre172"/></div>
<p class="calibre2">使用以下命令启动服务:</p>
<pre class="calibre17"><strong class="calibre1">sudo service kibana start</strong></pre>
<div><img src="img/00162.gif" class="calibre173"/></div>
<p class="calibre2">如果您想使用公共IP地址从外部访问仪表板，可以使用反向代理。例如，<strong class="calibre4"> Nginx </strong>在这种情况下会很棒。</p>
<p class="calibre2">你可以在<kbd class="calibre12">/usr/share/kibana</kbd>找到基巴纳文件夹:</p>
<div><img src="img/00163.jpeg" class="calibre174"/></div>
<p class="calibre2">要查看仪表板，请键入<kbd class="calibre12">&lt;Address&gt;: 5601</kbd>并输入您的凭证:</p>
<div><img src="img/00164.jpeg" class="calibre175"/></div>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Logstash</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3R0OI0-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">Logstash</h1>
                
            
            
                
<p class="calibre2">至此，我们已经安装了Elasticsearch和Kibana现在我们需要安装Logstash来收集和转换数据。Logstash管道包含三个组件:</p>
<ul class="calibre9">
<li class="calibre25">投入</li>
<li class="calibre25">过滤</li>
<li class="calibre25">输出</li>
</ul>
<div><img src="img/00165.jpeg" class="calibre176"/></div>
<p class="calibre2">让我们将Logstash添加到sources列表，然后更新它:</p>
<pre class="calibre17"><strong class="calibre1">echo 'deb http://packages.elastic.co/logstash/2.2/debian stable main' |</strong><br class="title-page-name"/><strong class="calibre1">sudo tee /etc/apt/sources.list.d/logstash-2.2.x.list</strong></pre>
<div><img src="img/00166.gif" class="calibre177"/></div>
<p class="calibre2">按如下方式安装Logstash:</p>
<pre class="calibre17"><strong class="calibre1">apt-get install logstash</strong></pre>
<div><img src="img/00167.gif" class="calibre178"/></div>
<p class="calibre2">一旦安装了Logstash，就可以编辑它的配置文件<kbd class="calibre12">&lt;Parent_Directory&gt;/logstash/conf/logstash.conf</kbd>。您会注意到，配置文件包含两个部分- <kbd class="calibre12">input</kbd>和<kbd class="calibre12">output</kbd>:</p>
<div><img src="img/00168.gif" class="calibre179"/></div>
<p class="calibre2">等等！我敢打赌，您一定想知道为什么我们只有两个部分，即使Logstash包含三个部分，正如我们之前讨论的那样。你完全正确。我们需要添加一个定制的部分，名为<kbd class="calibre12">filters</kbd>。Logstash提供了很好的功能，包括创建个性化过滤器的能力。例如，要创建过滤器，您可以使用以下格式(我们将在后面的指南中使用):</p>
<pre class="calibre17">filter {<br class="title-page-name"/>     grok {<br class="title-page-name"/>         match =&gt; { "message" =&gt; "COMBINEDAPACHELOG %{COMMONAPACHELOG} %{QS:referrer} %{QS:agent}" }<br class="title-page-name"/>     }<br class="title-page-name"/>     date {<br class="title-page-name"/>         match =&gt; [ "timestamp" , "dd/MMM/yyyy:HH:mm:ss Z" ]<br class="title-page-name"/>    }<br class="title-page-name"/> }</pre>
<p class="calibre2"><kbd class="calibre12">gork</kbd>过滤器用于将非结构化日志数据解析成结构化和可查询的数据。根据关于过滤器插件的官方部分(<a href="https://www.elastic.co/guide/en/logstash/current/plugins-filters-grok.html" class="calibre8">https://www . elastic . co/guide/en/logstash/current/plugins-filters-grok . html</a>)，log stash默认提供了超过120种模式。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Machine learning with the ELK Stack using the X-Pack plugin</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3RV940-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">使用X-Pack插件的ELK堆栈的机器学习</h1>
                
            
            
                
<p class="calibre2">我们现在已经安装了ELK堆栈的三个主要组件。如果您想要一种有效的方法来部署ELK堆栈，特别是为了测试目的，我建议您使用基于云的堆栈。例如，在下面的演示中，我将使用Bitnami预定义的cloud ELK堆栈。</p>
<p class="calibre2">Bitnami ELK堆栈附带以下软件版本:</p>
<ul class="calibre9">
<li class="calibre10">阿帕奇2.4.29</li>
<li class="calibre10">弹性搜索6.2.2</li>
<li class="calibre10">日志存储6.2.2</li>
<li class="calibre10">基巴纳6.2.2</li>
</ul>
<p class="calibre2">几分钟后，您的堆栈就可以使用了。下面的屏幕截图显示了ELK堆栈文件:</p>
<div><img src="img/00169.jpeg" class="calibre180"/></div>
<p class="calibre2">要获取Bitnami环境的密码，请转到Azure门户中的引导诊断部分，并检查日志文件。您可以在文件的底部找到密码:</p>
<div><img src="img/00170.gif" class="calibre181"/></div>
<p class="calibre2">在添加机器学习插件之前，让我们配置一下我们的ELK堆栈。使用以下命令加载ELK环境并登录到ELK服务器:</p>
<pre class="calibre17"><strong class="calibre1">sudo /opt/bitnami/use_elk</strong></pre>
<div><img src="img/00171.jpeg" class="calibre182"/></div>
<p class="calibre2">让我们通过键入<kbd class="calibre12">sudo /opt/bitnami/ctlscript.sh stop logstash</kbd>来停止Logstash</p>
<div><img src="img/00172.jpeg" class="calibre183"/></div>
<p class="calibre2">创建一个配置文件，<kbd class="calibre12">/opt/bitnami/logstash/conf/access-log.conf</kbd>:</p>
<pre class="calibre17">input {<br class="title-page-name"/>     file {<br class="title-page-name"/>         path =&gt; "/opt/bitnami/apache2/logs/access_log"<br class="title-page-name"/>         start_position =&gt; beginning<br class="title-page-name"/>     }<br class="title-page-name"/> }<br class="title-page-name"/>    <br class="title-page-name"/> filter {<br class="title-page-name"/>     grok {<br class="title-page-name"/>         match =&gt; { "message" =&gt; "COMBINEDAPACHELOG %{COMMONAPACHELOG} %{QS:referrer} %{QS:agent}" }<br class="title-page-name"/>     }<br class="title-page-name"/>     date {<br class="title-page-name"/>         match =&gt; [ "timestamp" , "dd/MMM/yyyy:HH:mm:ss Z" ]<br class="title-page-name"/>    }<br class="title-page-name"/> }<br class="title-page-name"/> <br class="title-page-name"/> output {<br class="title-page-name"/>     elasticsearch {<br class="title-page-name"/>         hosts =&gt; [ "127.0.0.1:9200" ]<br class="title-page-name"/>     }<br class="title-page-name"/> }</pre>
<div><img src="img/00173.gif" class="calibre184"/></div>
<p class="calibre2">检查<kbd class="calibre12">/opt/bitnami/logstash/bin/logstash -f /opt/bitnami/logstash/conf/ --config.test_and_exit</kbd>的配置:</p>
<div><img src="img/00174.gif" class="calibre185"/></div>
<p class="calibre2">按如下方式启动Logstash:</p>
<pre class="calibre17"><strong class="calibre1">sudo /opt/bitnami/ctlscript.sh start logstash</strong></pre>
<div><img src="img/00175.gif" class="calibre186"/></div>
<p class="calibre2">检查Elasticsearch是否运行良好:</p>
<div><img src="img/00176.gif" class="calibre187"/></div>
<p class="calibre2">现在，我们去基巴纳。您可能已经注意到，我们还没有索引模式:</p>
<div><img src="img/00177.jpeg" class="calibre188"/></div>
<p class="calibre2">配置完Logstash后，我们可以创建一个新的索引模式:</p>
<div><img src="img/00178.jpeg" class="calibre189"/></div>
<p class="calibre2">键入<kbd class="calibre12">*</kbd>并点击下一步:</p>
<div><img src="img/00179.jpeg" class="calibre190"/></div>
<p class="calibre2">选择@timestamp并单击Create Index pattern按钮。您现在可以在Kibana中查看新的索引模式页面:</p>
<div><img src="img/00180.jpeg" class="calibre191"/></div>
<p class="calibre2">当您点击“发现”选项时，您可以检查日志:</p>
<div><img src="img/00181.jpeg" class="calibre54"/></div>
<p class="calibre2">现在，让我们定制一个可视化，稍后添加到主仪表板中。单击侧边列表上的可视化，并创建新的可视化:</p>
<div><img src="img/00182.jpeg" class="calibre192"/></div>
<p class="mce-root2">在我们的演示中，我们将使用竖线。您可以从一系列图表和可视化工具中进行选择:</p>
<div><img src="img/00183.jpeg" class="calibre193"/></div>
<p class="calibre2">对于X轴，选择日期直方图作为聚合，选择@timestamp作为字段:</p>
<div><img src="img/00184.jpeg" class="calibre194"/></div>
<p class="calibre2">然后，您将看到图表的可视化效果，如下图所示:</p>
<div><img src="img/00185.jpeg" class="calibre195"/></div>
<p class="calibre2">创建可视化后，让我们添加到我们的仪表板。单击仪表板链接并创建一个新的仪表板。然后，添加您的可视化效果:</p>
<div><img src="img/00186.jpeg" class="calibre196"/></div>
<p class="calibre2">保存仪表板。现在，您可以检查任何指标:</p>
<div><img src="img/00187.jpeg" class="calibre197"/></div>
<p class="calibre2">ELK Stack威胁平台已准备好帮助您捕捉大量高级威胁。让我们将我们的项目提升一个档次，通过使用机器学习的力量来自动化狩猎操作，为它添加一点智能。ELK Stack让你可以在你的狩猎平台上添加一个名为X-Pack的插件，这将帮助你发现你的工件和日志中的异常。</p>
<p class="calibre2">为了获得X-Pack插件，我们需要在堆栈的每一层安装它，正如这个官方插图所示:</p>
<div><img src="img/00188.jpeg" class="calibre198"/></div>
<p class="calibre2">要在Elasticsearch上安装插件，请转到<kbd class="calibre12">binaries</kbd>文件夹，键入以下命令:</p>
<pre class="calibre17"><strong class="calibre1">./elasticsearch-plugin install x-pack</strong></pre>
<p class="calibre2">同样的行动也适用于基巴纳:</p>
<pre class="calibre17"><strong class="calibre1">sudo bin/kibana-plugin install x-pack</strong></pre>
<p class="calibre2">它也适用于Logstash:</p>
<pre class="calibre17"><strong class="calibre1">sudo bin/logstash-plugin install x-pack</strong></pre>
<p class="calibre2">重新启动所有服务并转到Kibana仪表板；你会注意到一个新的选项，叫做机器学习:</p>
<div><img src="img/00189.jpeg" class="calibre199"/></div>
<p class="calibre2">最后，由于X-Pack，您可以添加时间序列异常检测功能。在前一章中，我们详细讨论了异常检测。我们深入研究了异常检测基础知识，以及如何使用机器学习来检测这些异常。X-Pack使用同样的技术来发现异常。</p>
<div><img src="img/00190.jpeg" class="calibre200"/></div>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Summary</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3STPM0-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">摘要</h1>
                
            
            
                
<p class="calibre2">在前面的章节中，我们看到了如何通过使用不同的机器学习算法和Python库从零开始构建异常检测系统。本章包括一个分步指南，帮助您使用三个令人惊叹的开源项目构建一个全功能的威胁搜索平台。我们还实现了一个机器学习插件来优化和增强威胁搜索平台的能力。到目前为止，您已经学会了如何使用机器学习的力量来构建许多防御系统。如果你想学习如何绕过机器学习保护措施，下一章是必读的。</p>


            

            
        
    </body></html>


<html xmlns:epub="http://www.idpf.org/2007/ops">
  <head>
    <title>Questions</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  

</head>
  <body id="3TSA80-49a67f1d6e7843d3b2296f38e3fe05f5" class="calibre">
        

                            
                    <h1 class="header-title" id="calibre_pb_0">问题</h1>
                
            
            
                
<ol class="calibre13">
<li class="calibre10" value="1">以下哪一项不是网络杀戮链中的一个步骤？</li>
</ol>
<p class="calibre56">(a)扫描<br class="calibre5"/> (b)控制和命令<br class="calibre5"/> (c)发现和传播</p>
<ol start="2" class="calibre13">
<li value="2" class="calibre10">以下哪个选项不是入侵分析钻石模型的一个节点？</li>
</ol>
<p class="calibre56">(a)受害者<br class="calibre5"/> (b)基础设施<br class="calibre5"/> (c)程序</p>
<ol start="3" class="calibre13">
<li class="calibre10" value="3">Logstash配置文件中需要多少部分？</li>
</ol>
<p class="calibre56">(a) 2 <br class="calibre5"/> (b) 3 <br class="calibre5"/> (c) 4</p>
<ol start="4" class="calibre13">
<li value="4" class="calibre10">在ElasticSearch中，什么是索引？</li>
</ol>
<p class="calibre56">(a)在索引中存储数据的过程<br class="calibre5"/> (b)识别数据的过程<br class="calibre5"/> (c)以上都不是</p>
<ol start="5" class="calibre13">
<li value="5" class="calibre10">在Elasticsearch中，什么是节点？</li>
</ol>
<p class="calibre56">(a)一个Elasticsearch模块<br class="calibre5"/> (b)一个Elasticsearch的实例<br class="calibre5"/> (c)以上都不是</p>
<ol start="6" class="calibre13">
<li value="6" class="calibre10">在Elasticsearch中，什么是碎片？</li>
</ol>
<p class="calibre56">(a)共享文件<br class="calibre5"/> (b)共享数据<br class="calibre5"/> (c)共享资源(RAM、vCPU等)</p>
<ol start="7" class="calibre13">
<li value="7" class="calibre10">Elasticsearch有图式吗？(是|否)</li>
</ol>
<p class="calibre2"/>


            

            
        
    </body></html>
</body></html>